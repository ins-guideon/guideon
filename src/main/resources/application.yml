server:
  port: 8080
  servlet:
    context-path: /
    encoding:
      charset: UTF-8
      enabled: true
      force: true
  error:
    include-message: always
    include-stacktrace: on_param

spring:
  application:
    name: guideon
  datasource:
    url: jdbc:h2:file:./data/guideon;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password: 
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
    show-sql: false
  h2:
    console:
      enabled: true
      path: /h2-console
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  web:
    resources:
      add-mappings: true
  mvc:
    throw-exception-if-no-handler-found: true
    static-path-pattern: /static/**
  http:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

# Google Gemini API Configuration
gemini:
  api:
    key: ${GOOGLE_API_KEY:AIzaSyDON4b4pkFQqAhiEiB3e_KrHCjK9kq32Y0}

# Cohere API Configuration (for ReRanking)
cohere:
  api:
    key: ${COHERE_API_KEY:VRpGzfhNYKLaqsAyGpMoDBRGKd72iu084h3H3Ayc}

# Embedding Configuration (Google AI Gemini - 한국어 지원)
embedding:
  model:
    name: text-embedding-004
  dimension: 768

# Vector Search Configuration
vector:
  search:
    max-results: 5
    min-score: 0.5

# ReRanking Configuration (Cohere)
reranking:
  enabled: true
  model-name: rerank-multilingual-v3.0
  initial-results: 20
  final-results: 5
  min-score: 0.8

# RAG Configuration
rag:
  chunk:
    size: 500
    overlap: 100

# Vector Store Persistence Configuration
vectorstore:
  persistence:
    enabled: true
    data-dir: ${user.home}/guideon/data
    auto-save: true
    auto-load: true

# Logging Configuration
logging:
  level:
    root: INFO
    com.guideon: INFO
    dev.langchain4j: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
  charset:
    console: UTF-8
    file: UTF-8

# Security / JWT
security:
  jwt:
    secret: ${JWT_SECRET:MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDE=}
    access-validity-ms: 3600000 # 1 hour
    remember-validity-ms: 1209600000 # 14 days

# Swagger/OpenAPI Configuration
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    operations-sorter: method
    tags-sorter: alpha
    try-it-out-enabled: true

# Regulation Types
regulation:
  types:
    - 이사회규정
    - 접대비사용규정
    - 윤리규정
    - 출장여비지급규정
    - 주식매수선택권운영규정
    - 노사협의회규정
    - 취업규칙
    - 매출채권관리규정
    - 금융자산 운용규정
    - 문서관리규정
    - 재고관리규정
    - 계약검토규정
    - 사규관리규정
    - 임원퇴직금지급규정
    - 임원보수규정
    - 주주총회운영규정
    - 경비지급규정
    - 복리후생비규정
    - 보안관리규정
    - 위임전결규정
    - 우리사주운영규정
    - 내부정보관리규정
    - 회계관리규정
    - 특수관계자 거래규정
    - 조직 및 업무분장규정
    - 자금관리규정
    - 인장관리규정
